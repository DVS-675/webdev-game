(()=>{"use strict";const t=["♠","♣","♥","♦"],s=["A","6","7","8","9","10","J","Q","K"];class a{constructor(a=function(){return t.flatMap((t=>s.map((s=>new n(t,s)))))}()){this.cards=a}get numberOfCards(){return this.cards.length}shuffle(){for(let t=this.numberOfCards-1;t>0;t--){const s=Math.floor(Math.random()*(t+1)),a=this.cards[s];this.cards[s]=this.cards[t],this.cards[t]=a}}}class n{constructor(t,s){this.suit=t,this.value=s}get color(){return"♣"===this.suit||"♠"===this.suit?"black":"red"}}const e=t=>{const s=t.flatMap((t=>[t,t]));for(let t=0;t<s.length-1;t++){let a=t+Math.floor(Math.random()*(s.length-t)),n=s[a];s[a]=s[t],s[t]=n}return s};let i=!0,l=null,_=null;const c=t=>{const s={"♠":"card_suit_spades.svg","♣":"card_suit_clubs.svg","♥":"card_suit_hearts.svg","♦":"card_suit_diamonds.svg"};console.log(t);const n=document.querySelector(".game__container"),c=(t=>{let s=new a;switch(s.shuffle(),t){case 1:return e(s.cards.slice(0,3));case 2:return e(s.cards.slice(0,6));case 3:return e(s.cards.slice(0,9))}})(t);console.log(c);const d=c.map((t=>`\n    <div data-value=${t.value} data-suit=${t.suit} class="main__game_cards_item" >\n        <div class="main__game_cards_item_left">\n            <div class="card__value">${t.value}</div>\n            <img class="card__suit" src="img/${s[t.suit]}" alt="suit">\n        </div>\n        <div class="main__game_cards_item_center">\n        <img class="card__suit_center" src="img/${s[t.suit]}" alt="suit">          \n        </div>\n        <div class="main__game_cards_item_right">\n            <div class="card__value">${t.value}</div>\n            <img class="card__suit" src="img/${s[t.suit]}" alt="suit">\n        </div>\n    </div>\n    `)).join("");n.innerHTML=`\n    <div class='main__game'>\n        <div class="main__game_content">\n            <div id="timer">\n                <div class="timer__text">\n                    <span class='timer__text_item'>min</span> <span class='timer__text_item'>sek</span>\n                </div>\n                <p class='timer'>00.00</p>\n            </div>\n            <button class="main__game_content_button">Начать заново</button>\n        </div>\n            <div class="main__game_cards">\n                ${d}\n            </div>\n    </div>`,document.querySelector(".main__game_content_button").addEventListener("click",(()=>{r()})),setTimeout((()=>(({appEl:t,cardsIcons:s})=>{const a={"♠":"card_suit_spades.svg","♣":"card_suit_clubs.svg","♥":"card_suit_hearts.svg","♦":"card_suit_diamonds.svg"},n=s&&s.map((t=>`\n    <div data-value=${t.value} data-suit=${t.suit} class="main__game_cards_item flip" >\n        \n    </div>\n    `)).join("");t.innerHTML=`\n    <div class='main__game'>\n        <div class="main__game_content">\n            <div id="timer">\n                <div class="timer__text">\n                    <span class='timer__text_item'>min</span> <span class='timer__text_item'>sek</span>\n                </div>\n                <p class='timer'>00.00</p>\n            </div>\n            <button class="main__game_content_button">Начать заново</button>\n        </div>\n            <div class="main__game_cards">\n                ${n}\n            </div>\n    </div>`,document.querySelector(".main__game_content_button").addEventListener("click",(()=>{i=!0,l=null,_=null,r()})),(()=>{const t=document.querySelectorAll(".main__game_cards_item");for(const s of t)s.addEventListener("click",(()=>{if(1==i){const n=s.dataset.suit,e=s.dataset.value;s.classList.remove("flip"),s.innerHTML=`            \n            <div class="main__game_cards_item_left">\n                <div class="card__value">${e}</div>\n                <img class="card__suit" src="img/${a[n]}" alt="suit">\n            </div>\n            <div class="main__game_cards_item_center">\n                <img class="card__suit_center" src="img/${a[n]}" alt="suit">          \n            </div>\n            <div class="main__game_cards_item_right">\n                <div class="card__value">${e}</div>\n                <img class="card__suit" src="img/${a[n]}" alt="suit">\n            </div>\n                `,null==l?l=s:s!=l&&(_=s,i=!1),null!=l&&null!=_&&(l.dataset.value==_.dataset.value&&l.dataset.suit==_.dataset.suit?setTimeout((()=>{l=null,_=null,i=!0,console.log("Выиграл")}),500):setTimeout((()=>{alert("Вы проиграли!"),r(),l.classList.add("flip"),_.classList.add("flip"),l.innerHTML="",_.innerHTML="",l=null,_=null,i=!0}),500)),Array.from(t).every((t=>"main__game_cards_item"===t.className))&&alert("Вы угадали все карты!")}}))})()})({appEl:n,cardsIcons:c})),5e3)},r=()=>{const t=document.querySelector(".game__container");t.innerHTML="",t.innerHTML='\n <div class=\'start__main\'>\n    <h2 class="start__main_text">Выбери сложность</h2>\n        <div class =\'start__main_level\'>\n            <label>\n                <input class = \'start__main_level-button\' type="radio" name="level" value="1">\n                <span class=\'start__main_level_item\'>1</span>\n            </label>\n            <label>\n                <input class = \'start__main_level-button\' type="radio" name="level" value="2">\n                <span class=\'start__main_level_item\'>2</span>\n            </label>\n            <label>\n                <input class = \'start__main_level-button\' type="radio" name="level" value="3">\n                <span class=\'start__main_level_item\'>3</span>\n            </label>\n        </div>\n    <button class="start__main_button">Старт</button>\n </div>\n  ';const s=document.querySelectorAll(".start__main_level-button"),a=document.querySelector(".start__main_button");console.log(s);for(let t of s)t.addEventListener("click",(()=>{const s=Number(t.value);a.addEventListener("click",(()=>c(s)))}))};r()})();